<div class="container-fluid">
    <!-- <div class="rounded-top"></div> -->
    <div class="card">
            <div class="card left-card" style="padding: 5px 2% 2% 2%; height: 90vh;">
                <div style="display: flex; padding: 5px;">
                    <span style="font-size: 20px; font-weight: 700; color: #FFFFFF;">Packages List</span>
                    <span style="margin-left: auto; font-size: 20px; font-weight: 600; color: #FFFFFF;">Total count : {{totalCount}}</span>
                </div>
                <div style="display: flex; gap: 5px;">
                  <input type="text" class="form-control mb-4">
                <button type="button" class="btn btn-success" style="height: 60%;" (click)="exportToExcel()">Export</button>
                <button class="btn btn-secondary" style="margin-left: auto; height: 60%;" (click)="addSaloon()"><i class="fa-solid fa-plus"></i></button>
                </div>
                
                <div class="card" style="margin-bottom: 5px;" *ngFor="let item of serviceslist; let i = index"  [class.active]="selectedCardId === item.salonId" [ngClass]="{'odd-card': i % 2 !== 0, 'even-card': i % 2 === 0}">
                    <div class="card-body">
                      <div style="display: flex; gap: 10%;">
                        <div>
                          <img style="float: right; height: 50px; width: 50px; border-radius: 100%; border: solid 1px;" src="{{item.packageLogo}}" alt="">
                        </div>
                        <div style="width: 150px;">
                          <span class="card-title">{{ item.packageName }}</span><br>
                          <span class="card-text">Price : {{ item.price }}</span>
                        </div>
                        <div>
                          <span class="card-text">Service Id : {{ item.packageId }}</span><br>
                          <span class="card-text">Details : {{ item.details }}</span>
                        </div>
                        <div>
                          <span class="card-text">Discount Price : {{ item.discountPrice }}</span><br>
                          <span class="card-text">Status : {{ item.status }}</span>
                        </div>
                        
                      </div>

                      <div style="float: right;">
                        <i class="fa-solid fa-pen" (click)="handleCardClick(item.packageId)" style="cursor: pointer;"></i>
                      </div>
                    </div>
                  </div>
            </div>
        </div>
</div>
<p-dialog header="Add New Package" [modal]="true" [(visible)]="visible" [style]="{ width: '28rem' }">
  <div class="row">
    <form [formGroup]="packageForm" (ngSubmit)="onSubmit()">
      <div class="mb-2">
        <label for="packageName">Package Name:</label>
        <input class="form-control" id="packageName" formControlName="packageName" type="text">
      </div>
    
      <div class="row mb-3">
        <div class="col-md-6">
          <label for="price">Price:</label>
          <input class="form-control" id="price" formControlName="price" type="number">
        </div>
      
        <div class="col-md-6">
          <label for="discountPrice">Discount Price:</label>
          <input class="form-control" id="discountPrice" formControlName="discountPrice" type="number">
        </div>
      </div>

      <div class="row mb-3">
        <div class="col-md-6">
          <label for="startDate">Start Date:</label>
          <input class="form-control" id="startDate" formControlName="startDate" type="date" style="width: 110%;">
        </div>
  
        <div class="col-md-6">
          <label for="endDate">End Date:</label>
          <input class="form-control" id="endDate" formControlName="endDate" type="date">
        </div>
      </div>
    
      
    
      <div class="mb-2">
        <div class="dropdown">
          <div class="dropdown-toggle" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
            <span>Select Options</span>
          </div>
          <ul class="dropdown-menu custom-dropdown-menu" aria-labelledby="dropdownMenuButton">
            <li *ngFor="let option of serviceData">
              <div class="form-check custom-dropdown-item">
                <input 
                  class="form-check-input" 
                  type="checkbox" 
                  [value]="option.value" 
                  (change)="onOptionChange($event, option.serviceId)"
                  [checked]="selectedOptions.includes(option.serviceId)">
                <label class="form-check-label">
                  {{ option.serviceName }}
                </label>
              </div>
            </li>
          </ul>
        </div>
        
        
        <p>Selected Options: {{ selectedOptions | json }}</p>
        
      </div>
      
      <div>
        <label for="status">Status</label>
        <input  id="status" formControlName="status" type="checkbox" style="margin-left: 10px;">
      </div>
      <div class="d-flex justify-content-end gap-2" style="margin-top: 10px;">
        <button type="submit" class="btn btn-success">Submit</button>
        <button type="button" class="btn btn-danger" (click)="visible = false">Cancel</button>
      </div>
    </form>
    
  </div>
     
</p-dialog>

<p-dialog header="Edit Package" [modal]="true" [(visible)]="editVisible" [style]="{ width: '30rem' }">
  <div class="row">
    <form [formGroup]="packageForm" (ngSubmit)="onEdit()">
      <div class="mb-2">
        <label for="packageName">Package Name:</label>
        <input class="form-control" id="packageName" formControlName="packageName" type="text">
      </div>
    
      <div class="row mb-3">
        <div class="col-md-6">
          <label for="price">Price:</label>
          <input class="form-control" id="price" formControlName="price" type="number">
        </div>
      
        <div class="col-md-6">
          <label for="discountPrice">Discount Price:</label>
          <input class="form-control" id="discountPrice" formControlName="discountPrice" type="number">
        </div>
      </div>

      <div class="row mb-3">
        <div class="col-md-6">
          <label for="startDate">Start Date:</label>
          <input class="form-control" id="startDate" formControlName="startDate" type="date" style="width: 110%;">
        </div>
  
        <div class="col-md-6">
          <label for="endDate">End Date:</label>
          <input class="form-control" id="endDate" formControlName="endDate" type="date">
        </div>
      </div>
    
      
    
      <div class="mb-2">
        <div class="dropdown">
          <div class="dropdown-toggle" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
            <span>Select Options</span>
          </div>
          <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            <li *ngFor="let option of serviceData">
              <div class="form-check">
                <input 
                  class="form-check-input" 
                  type="checkbox" 
                  [value]="option.value" 
                  (change)="onOptionChange($event, option.serviceId)"
                  [checked]="selectedOptions.includes(option.serviceId)">
                <label class="form-check-label">
                  {{ option.serviceName }}
                </label>
              </div>
            </li>
          </ul>
        </div>
        
        
        
        
        <p>Selected Options: {{ selectedOptions | json }}</p>
        
      </div>
      
      <div>
        <label for="status">Status:</label>
        <input  id="status" formControlName="status" type="checkbox" style="margin-left: 10px;">
      </div>
      <div class="d-flex justify-content-end gap-2" style="margin-top: 10px;">
        <button type="submit" class="btn btn-success">Submit</button>
        <button type="button" class="btn btn-danger" (click)="editVisible = false">Cancel</button>
      </div>
    </form>
    
  </div>
     
</p-dialog>

<p-dialog header="Select Salon" [(visible)]="isSuperAdmin"  [closable]="true" [style]="{width: '300px'}">
  <div class="p-fluid">
    <div class="p-field">
      <select id="salon" class="form-control" (change)="onSalonSelect($event)">
        <option value="" disabled selected>Select a Salon</option>
        <option *ngFor="let salon of salons" [value]="salon.salonId">{{ salon.salonName }}</option>
      </select>
    </div>
  </div>
</p-dialog>