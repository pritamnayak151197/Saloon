<div class="container-fluid">
    <!-- <div class="rounded-top"></div> -->
    <div class="rounded-top" style="display: flex; margin: 5px;">
      <!-- <h3>Saloon List</h3> -->
      <button class="btn btn-secondary" style="margin-left: auto;" (click)="addServices()"><i class="fa-solid fa-plus"></i> Add Services</button>
    </div>
    <div class="card">
            <div class="card left-card" style="padding: 5px 2% 2% 2%;">
                <div style="display: flex; padding: 5px;">
                    <span style="font-size: 20px; font-weight: 700; color: #FFFFFF;">Services List</span>
                    <span style="margin-left: auto; font-size: 20px; font-weight: 600; color: #FFFFFF;">Total count : {{totalCount}}</span>
                </div>
                <div style="display: flex; gap: 5px;">
                  <input type="text" class="form-control mb-4">
                <button type="button" class="btn btn-outline-success" style="height: 100%;" (click)="exportToExcel()">Export</button>
                </div>
                <div class="card" style="margin-bottom: 5px;" *ngFor="let item of serviceslist; let i = index" (click)="handleCardClick(item.serviceId)" [class.active]="selectedCardId === item.salonId" [ngClass]="{'odd-card': i % 2 !== 0, 'even-card': i % 2 === 0}">
                    <div class="card-body">
                      <div class="row">
                        <div class="col-md-3">
                          <span class="card-title">{{ item.serviceName }}</span><br>
                          <span class="card-text">Price : {{ item.price }}</span>
                        </div>
                        <div class="col-md-3">
                          <span class="card-text">Service Id : {{ item.serviceId }}</span><br>
                          <span class="card-text">Details : {{ item.details }}</span>
                        </div>
                        <div class="col-md-3">
                          <span class="card-text">Discount Price : {{ item.discountPrice }}</span><br>
                          <span class="card-text">Status : {{ item.status }}</span>
                        </div>
                        <div class="col-md-3">
                          <img style="float: right; height: 50px; width: 50px; border-radius: 100%; border: solid 1px;" src="{{item.servicePic}}" alt="">
                        </div>
                      </div>
                    </div>
                  </div>
                  
                
            </div>
        </div>
</div>
<p-dialog header="Add new Service" [modal]="true" [(visible)]="visible" [style]="{ width: '50rem' }">
  <div class="row">
    <form [formGroup]="serviceForm" (ngSubmit)="onSubmit()">
      <div>
        <label for="serviceName">Service Name</label>
        <input id="serviceName" formControlName="serviceName" type="text" class="form-control">
      </div>
    
      <div>
        <label for="details">Details</label>
        <input id="details" formControlName="details" type="text" class="form-control">
      </div>
    
      <div>
        <label for="servicePic">Service Picture URL</label>
        <div style="display: flex;">
          <input type="file" (change)="onFileSelected($event)" class="form-control" required />
        </div>
      </div>
    
      <div>
        <label for="price">Price</label>
        <input id="price" formControlName="price" type="number" class="form-control">
      </div>
    
      <div>
        <label for="discountPrice">Discount Price</label>
        <input id="discountPrice" formControlName="discountPrice" type="number" class="form-control">
      </div>
    
      <label for="gender">Gender</label>
      <select id="gender" class="form-control" formControlName="serviceType">
        <option value="male">Male</option>
        <option value="female">Female</option>
      </select>

      <div>
        <label for="status">Status</label>
        <input id="status" formControlName="status" type="checkbox">
      </div>
    
      <div class="d-flex justify-content-end gap-2" style="margin-top: 5px;">
        <button type="submit" class="btn btn-primary">Submit</button>
        <button type="button" class="btn btn-danger" (click)="visible = false">Cancel</button>
      </div>
    </form>
  </div>
     
</p-dialog>

<p-dialog header="Edit Service" [modal]="true" [(visible)]="editVisible" [style]="{ width: '50rem' }">
  <div class="row">
    <form [formGroup]="serviceForm" (ngSubmit)="onUpdate()">
      <div>
        <label for="editServiceName">Service Name</label>
        <input id="editServiceName" formControlName="serviceName" type="text" class="form-control">
      </div>
    
      <div>
        <label for="editDetails">Details</label>
        <textarea id="editDetails" formControlName="details" type="text" class="form-control"></textarea>
      </div>
    
      <div>
        <label for="editServicePic">Service Picture URL</label>
        <div style="display: flex;">
          <input type="file" (change)="onFileSelected($event)" class="form-control" />
        </div>
      </div>
    
      <div>
        <label for="editPrice">Price</label>
        <input id="editPrice" formControlName="price" type="number" class="form-control">
      </div>
    
      <div>
        <label for="editDiscountPrice">Discount Price</label>
        <input id="editDiscountPrice" formControlName="discountPrice" type="number" class="form-control">
      </div>
    
      <label for="editServiceType">Gender</label>
      <select id="editServiceType" class="form-control" formControlName="serviceType">
        <option value="male">Male</option>
        <option value="female">Female</option>
      </select>

      <div>
        <label for="editStatus">Status</label>
        <input id="editStatus" formControlName="status" type="checkbox">
      </div>
    
      <div class="d-flex justify-content-end gap-2" style="margin-top: 5px;">
        <button type="submit" class="btn btn-primary">Submit</button>
        <button type="button" class="btn btn-danger" (click)="editVisible = false">Cancel</button>
      </div>
    </form>
  </div>
</p-dialog>


<p-dialog header="Select Salon" [(visible)]="isSuperAdmin"  [closable]="true" [style]="{width: '300px'}">
  <div class="p-fluid">
    <div class="p-field">
      <select id="salon" class="form-control" (change)="onSalonSelect($event)">
        <option value="" disabled selected>Select a Salon</option>
        <option *ngFor="let salon of salons" [value]="salon.salonId">{{ salon.salonName }}</option>
      </select>
    </div>
  </div>
</p-dialog>