<div class="container-fluid body">
  <div class="row" *ngIf="false">
    <div class="col-lg-6">
      <div class="container centered">
        <div class="logo">
          <h2 style="font-size: 70px; font-weight: 700;">Saloon</h2>
        </div>
        <form action="#" style="width: 70%">
          <div class="mb-3 form-box">
            <label for="">User Name</label>
            <input type="email" class="form-control" id="email" name="email" [(ngModel)]="username" required>
          </div>
          <div class="mb-3">
            <label for="">Password</label>
            <input type="password" class="form-control" id="password" name="password" [(ngModel)]="logIn.password"  required>
          </div>
          <div class="mb-3">

          </div>
          <button type="submit" class="btn btn-secondary login-btn w-45 mb-3" (click)="logMein()">Log In</button>
          <p-toast></p-toast>
          <div class="mb-2"></div>
          <p style="cursor: pointer;" (click)="showDialog()">Need help Signing in?</p>
        </form>
      </div>
      
    </div>
    <div class="col-lg-6">
          
    </div>
  </div>
  <div class="row">
    <div class="col-lg-6">
      <div class="container centered">
        <div class="logo">
          <h2 style="font-size: 70px; font-weight: 700;">Saloon</h2>
        </div>
        <form action="#" style="width: 70%" *ngIf="!otpSent">
          <div class="mb-3 form-box">
            <label for="">Phone Number</label>
            <input type="email" class="form-control" id="email" name="email" [(ngModel)]="logInWithOtp.phoneNumber" required>
          </div>
          <!-- <div class="mb-3">
            <label for="">OTP</label>
            <input type="password" class="form-control" id="password" name="password" [(ngModel)]="logIn.password"  required>
          </div>
          <div class="mb-3">

          </div> -->
          <button type="submit" class="btn btn-secondary login-btn w-45 mb-3" (click)="logMein()">Send OTP</button>
          <p-toast></p-toast>
          <div class="mb-2"></div>
          <p style="cursor: pointer;" (click)="showDialog()">Need help Signing in?</p>
        </form>

        <form action="#" style="width: 70%" *ngIf="otpSent">
          
          <div class="mb-3">
            <label for="">OTP</label>
            <input type="password" class="form-control" id="password" name="password" [(ngModel)]="recievedOtp"  required>
          </div>
          <div class="mb-3">

          </div>
          <button type="submit" class="btn btn-secondary login-btn w-45 mb-3" (click)="verifyOtp()">Verify OTP</button>
          <p-toast></p-toast>
          <div class="mb-2"></div>
          <p style="cursor: pointer;" (click)="logMein()">didn't grt it Resend code?</p>
        </form>
      </div>
      
    </div>
    <div class="col-lg-6">
          
    </div>
  </div>
</div>


<!-- Forgot password Modal -->

<!-- app.component.html -->
<p-button label="Forgot Password" icon="pi pi-info-circle" (click)="showDialog()"></p-button>

<p-dialog header="Forgot Password" [(visible)]="display" [modal]="true" [closable]="false" [dismissableMask]="true">
  <div class="row">
    <div class="col-md-4">
      <img src="../assets/saloon.jpg">
    </div>
    <div class="col-md-8">
      <div *ngIf="!otpSent && !otpVerified" class="p-fluid">
        <div class="p-field">
          <label for="email">Email</label>
          <input id="email" type="text" pInputText [(ngModel)]="email">
        </div>
        <div style="margin-top: 20px;">
          <button class="btn btn-success" label="Submit" (click)="submitEmail()" icon="pi pi-check" style="margin-right: 5px;">Submit</button>
          <button class="btn btn-danger" label="Cancel" (click)="display=false" icon="pi pi-times">Cancel</button>
        </div>
      </div>
      
      <div *ngIf="otpSent && !otpVerified" class="p-fluid">
        <div class="p-field">
          <label for="otp">Enter OTP</label>
          <input id="otp" type="text" pInputText [(ngModel)]="otp" maxlength="6">
        </div>
        <div style="margin-top: 20px;">
          <button class="btn btn-success" label="Submit" (click)="submitOTP()" icon="pi pi-check" style="margin-right: 5px;">Verify OTP</button>
          <button class="btn btn-danger" label="Cancel" (click)="display=false" icon="pi pi-times">Cancel</button>
        </div>
      </div>
      
      <div *ngIf="otpVerified" class="p-fluid">
        <div class="p-field">
          <label for="newPassword">New Password</label>
          <input id="newPassword" type="password" pInputText [(ngModel)]="newPassword">
        </div>
        <div class="p-field">
          <label for="confirmPassword">Confirm Password</label>
          <input id="confirmPassword" type="password" pInputText [(ngModel)]="confirmPassword">
        </div>
        <div style="margin-top: 20px;">
          <button class="btn btn-success" label="Submit" (click)="resetPassword()" icon="pi pi-check" style="margin-right: 5px;">Reset Password</button>
          <button class="btn btn-danger" label="Cancel" (click)="display=false" icon="pi pi-times">Cancel</button>
        </div>
      </div>
    </div>
  </div>
  
</p-dialog>



